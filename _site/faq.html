<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>mth321_sp25 - Syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">mth321_sp25</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#welcome" id="toc-welcome" class="nav-link active" data-scroll-target="#welcome">Welcome!</a></li>
  <li><a href="#course-description" id="toc-course-description" class="nav-link" data-scroll-target="#course-description"><span class="header-section-number">1</span> Course Description</a></li>
  <li><a href="#student-support" id="toc-student-support" class="nav-link" data-scroll-target="#student-support"><span class="header-section-number">2</span> Student Support</a>
  <ul class="collapse">
  <li><a href="#drop-in-hours" id="toc-drop-in-hours" class="nav-link" data-scroll-target="#drop-in-hours"><span class="header-section-number">2.1</span> Drop-In Hours</a></li>
  <li><a href="#sign-up" id="toc-sign-up" class="nav-link" data-scroll-target="#sign-up"><span class="header-section-number">2.2</span> Sign-Up</a></li>
  <li><a href="#open-door" id="toc-open-door" class="nav-link" data-scroll-target="#open-door"><span class="header-section-number">2.3</span> Open Door</a></li>
  <li><a href="#math-resource-center" id="toc-math-resource-center" class="nav-link" data-scroll-target="#math-resource-center"><span class="header-section-number">2.4</span> Math Resource Center</a></li>
  </ul></li>
  <li><a href="#course-structure" id="toc-course-structure" class="nav-link" data-scroll-target="#course-structure"><span class="header-section-number">3</span> Course Structure</a>
  <ul class="collapse">
  <li><a href="#attendence" id="toc-attendence" class="nav-link" data-scroll-target="#attendence"><span class="header-section-number">3.1</span> Attendence</a></li>
  <li><a href="#text-and-technology" id="toc-text-and-technology" class="nav-link" data-scroll-target="#text-and-technology"><span class="header-section-number">3.2</span> Text and Technology</a></li>
  <li><a href="#due-dates-and-extensions" id="toc-due-dates-and-extensions" class="nav-link" data-scroll-target="#due-dates-and-extensions"><span class="header-section-number">3.3</span> Due Dates and Extensions</a></li>
  <li><a href="#weekly-homework" id="toc-weekly-homework" class="nav-link" data-scroll-target="#weekly-homework"><span class="header-section-number">3.4</span> Weekly Homework</a></li>
  <li><a href="#application-and-extension-problems-aep" id="toc-application-and-extension-problems-aep" class="nav-link" data-scroll-target="#application-and-extension-problems-aep"><span class="header-section-number">3.5</span> Application and Extension Problems (AEP)</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="faq.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="welcome" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="welcome">Welcome!</h2>
<p>Before we get into the details of the course, I want to share with you a few thoughts about my general approach to teaching and learning. My main goal as the professor in this course is to help you succeed, not just in learning the material but in growing as a learner. Learning takes effort, a willingness to try something that may not work, and an openness to learning from feedback.; my job is to create an environment in which all of you are supported in these aspects.</p>
<p>I am looking forward to getting to know each of you this semester and it is my sincere goal to make our time together (in class and out) productive and engaging. I want you to feel comfortable coming to me with any questions or concerns that arise, mathematical and otherwise. If you encounter any issues that interfere with your learning, whether they are physical, mental, emotional, economic, or otherwise, or if you experience discrimination or mistreatment of any sort, please contact me immediately. Other resources for support include the Chair of the Math Department or the CAS Dean of Students.</p>
<p>Much of the work for this course will be done within class or small group discussions for which we will rely on everyone in this class as a source for feedback and support. Because of this, it’s incredibly important to me that we create an inclusive community that is respectful of our differences and offers space for the boundary-setting necessary for positive relationships to form. Our diversity is reflected by differences in race, gender, sexuality, ability, class, religion, nationality, and other cultural identities and material circumstances.</p>
</section>
<section id="course-description" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="course-description"><span class="header-section-number">1</span> Course Description</h2>
<p>This course introduces the basic techniques and theory of ordinary differential equations, especially as related to problems in the physical sciences. It is aimed at math, engineering, and science majors that have taken the first two semesters of calculus.</p>
<p>Specific topics will include qualitative and analytic techniques for first and second order linear equations, separable equations, systems of linear equations, and Laplace transform methods. Other topics may be covered as time allows. A detailed list of learning objectives appears at the end of this document.</p>
<p>In addition to these specific topics, our learning goals also include: communicating effectively about course content and solution methods; persistence in solving challenging, multi-step problems; and developing a practice of reflection on one’s own learning. Certain affective traits (i.e., dispositions and habits that are useful for all learners, regardless of topic) are also valued, such as persistence and growth mindset, and the development of these qualities will be fostered by the course.</p>
</section>
<section id="student-support" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="student-support"><span class="header-section-number">2</span> Student Support</h2>
<p>It is my experience that much of your learning in this course will occur outside of class. You might get stuck on a homework problem or perhaps you have a question from class that did not get fully resolved. For these reasons, it’s important that you know how to get help outside of class. Here are a few resources:</p>
<section id="drop-in-hours" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="drop-in-hours"><span class="header-section-number">2.1</span> Drop-In Hours</h3>
<p>I have set aside the following specific times during the week that I am available for drop-in help. You do not need to let me know you’re coming – just stop by my office (BC 270). Many students find these drop-in hours can be particularly helpful if you are working together with classmates. You can work together at one of the tables down the hall from my office and just pop in when you have any questions!</p>
<ul>
<li>Mon, Wed 10-11 and 1:30-2:30</li>
<li>Tue, Thurs 10-11</li>
</ul>
<p><strong>Note</strong> I’m choosing these times before the semester begins, so it’s quite possible we will need to adjust these if needed. I will keep an up-to-date schedule on the course Moodle page.</p>
</section>
<section id="sign-up" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="sign-up"><span class="header-section-number">2.2</span> Sign-Up</h3>
<p>I recognize that your schedule might not allow you to stop by during the posted drop-in hours. Or you simply might find it more convenient to meet with me at a different time. If you go to my <a href="https://calendly.com/hallstro">Calendly scheduler</a>, you can sign-up for a time slot to meet, either in person or via zoom. If there is a specific time that works for you and you don’t see it available on the Calendly scheduler, please reach out to me via email and we will find a time that works for your schedule.</p>
</section>
<section id="open-door" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="open-door"><span class="header-section-number">2.3</span> Open Door</h3>
<p>I have the scheduled drop-in hours simply to give you some times when you know that I’ll be available – but you are <strong>always</strong> welcome to stop by my office <strong>at any time</strong>. Unless I’m in class or in a meeting, I will generally be available to meet with you.</p>
</section>
<section id="math-resource-center" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="math-resource-center"><span class="header-section-number">2.4</span> Math Resource Center</h3>
<p>The MRC offers both drop-in tutoring as well as individualized help. I will post the MRC schedule on Moodle as soon as it becomes available (usually the second week of the semester). You can also find information about the MRC (and other resources at the Learning Commons) at <a href="https://bit.ly/learning-up">this link</a></p>
</section>
</section>
<section id="course-structure" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="course-structure"><span class="header-section-number">3</span> Course Structure</h2>
<p>In broad strokes, this course is designed to engage you with rich problems in a collaborative setting. In class, we will often work in small groups on activities designed to engage and practice working with the course content. Outside of class, you will have homework to practice what we’ve learned and to stretch your problem solving skills. You will also be asked to reflect on your learning – mathematics is as much about the problem solving process as it is about finding a correct answer and so reflecting and writing about your work is an important part of what we’ll do.</p>
<section id="attendence" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="attendence"><span class="header-section-number">3.1</span> Attendence</h3>
<p>Since we will be doing much of our learning through collaborative in-class activities, it’s important that you to come to class prepared to engage and participate. However, I also recognize that for many reasons, this will not always be possible. If you need to miss class that’s fine – there is no penalty apart from missing out on that day’s activity. If you miss class often, you can expect me to reach out to see how I can support you coming to class.</p>
<p>I will do my best to post a short summary of what we do in-class on Moodle, so if you do miss class, you can always check in there to see what we did that day. You may also find it helpful if you’re able to check-in with a classmate to see what we covered and I’m always available in office hours to discuss anything you missed. Finally, if we have a quiz on a day that you are absent, you will always be able to make it up.</p>
</section>
<section id="text-and-technology" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="text-and-technology"><span class="header-section-number">3.2</span> Text and Technology</h3>
<p>{}, by C. Hallstrom. This text is posted on our class Moodle page.</p>
<p>Some of the work we will do in this class will require the use of technology such as a graphing calculators or dynamic graphing software such as . If you have questions about how to use any of these tools, please let me know. If you do use technology on homework, please indicate this in your written solutions.</p>
</section>
<section id="due-dates-and-extensions" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="due-dates-and-extensions"><span class="header-section-number">3.3</span> Due Dates and Extensions</h3>
<p>Just like the ``real world’’, due dates in this class exist and are important. However, there’s usually a certain amount of flexibility. Sometimes circumstances may prevent you from completing an assignment on time. Or maybe you simply want a little more time to work on something. For these reasons, you can (almost) always request an extension at any time and for any reason – simply fill out the Due Date Extension Form (link below). If you ask for lots of extensions, you can expect that I will reach out to see if we can work together to find ways for you to keep up with the work in the course.</p>
<p>Note: you do not need to provide a reason for your extension request. I trust that if you are asking for an extension then you have a reason. The is also no penalty for late work except you may not get timely feedback on your work.</p>
</section>
<section id="weekly-homework" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="weekly-homework"><span class="header-section-number">3.4</span> Weekly Homework</h3>
<p>Most weeks I will assign a problem set that gives you a chance to engage with and practice using the concepts introduced in class. These problems serve several purposes. First, they give you an opportunity to practice applying the concepts and techniques we see in class to help you work toward gaining proficiency in the course learning targets.</p>
<p>Homework is also an opportunity to practice communicating your understanding to others. Your goal when writing up a solution is not just to find an answer, but to convince your reader that your solution is reasonable. As such, you should strive to write clearly, legibly, and (whenever appropriate) in complete sentences. If your reader can’t follow your reasoning, or read your writing, then you have not done your job.</p>
</section>
<section id="application-and-extension-problems-aep" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="application-and-extension-problems-aep"><span class="header-section-number">3.5</span> Application and Extension Problems (AEP)</h3>
<p>In addition to regular weekly homework, I will also periodically assign Application/Extension Problems. These will be more challenging or longer problems designed to give you a chance to think more deeply about concepts and applications and to practice your problem solving skills. Sometimes they will look at applications of material we have covered, other times they may delve more deeply into theory that we’ve seen in class; they may even introduce new material that is not covered in class. The AEPs will require more extensive writing to clearly communicate your work.</p>
<p>AEPs problems will generally be due two weeks from when they are assigned. If you would like to revise your work after getting feedback, you may resubmit your work within one week. Revised papers should be a complete rewrite - do not simply squeeze corrections into the margin of your original paper. You should also include a short summary of your revisions, i.e.&nbsp;tell me what you’ve done to address my feedback or any other changes that you made.</p>
<p>Your AEPs can be used at the end of the semester as evidence of a deeper understanding of the topics from the course.</p>
% %The AEPs will be marked as follows: %
<p>A list of Learning Targets can be found at the end of this document and is also posted on Moodle. Note that we may end up skipping one or more of those listed. You are not responsible for any Learning Targets that we skip.</p>
If you receive feedback of (minor revisions needed), you may upgrade this to a (provicient) by submitting a revision within one week. A revision must include the following:
Each content learning target will appear on at least two in-class check-ins, so if you aren’t able to demonstrate proficiency the first time it appears, you will have another chance to re-assess on another week. In addition to our weekly check-ins, there are a few other ways that you can demonstrate proficiency:
Finally, please note the following restrictions on re-assessing:
If you are reassessing a learning target outside of class, you must submit responses to the following questions at the time of your reassessment:
%
This is a virtual MTH 321 currency that you can use in this course to give yourself additional flexibility with deadlines and re-assessments. Every student starts the semester with 5 tokens. Here are the ways you may spend your tokens: %\begin{itemize} %
You may take a 24 hour extension on the weekly homework (1 token, only applies once for a given assignment). %
You may schedule a second (or third, or fourth, etc.) reassessment in a given week. (1 token each.) %
You may extend the deadline for an AEP by 24 hours (1 token, may be used as often as you wish). %
<p>You may extend the deadline for an AEP by one week (2 tokens, may only be used once per AEP). % \end{itemize}</p>
% % %
<p>In addition to the content related learning targets described above, there are three learning targets related to the development of your Mathematical Practice. Evidence of proficiency in learning targets and can be demonstrated by submitting examples of your work that exemplify a particular practice (two per practice). These examples can be selected from the AEPs or they may be problems of your own choosing (including written homework). In this later case, you must consult with me to make sure the problems are appropriate. % %Proficiency in Mathematical Practice may be demonstrated through regular completion of the journal prompts that I will post on Moodle throughout the semester.</p>
Our final will consist of two parts. The first is an in-class check-in to give you one last opportunity to re-assess any learning targets that are still outstanding. This is scheduled for:
<p>This date and time are set by the registrar’s office and is not subject to change. Note that this final check-in is no different than previous in-class check-ins except that it will include all learning targets that we’ve covered. In particular, if you have already earned all the Proficiencies that you need, you do not need to attend this final check-in.</p>
<p>The second part is not optional will consist of a course refection and “big picture” questions that will allow you to reflect on and synthesize some of the main themes of the course. This part will be available on Moodle to be completed anytime during finals week.</p>
<p>\end{description}</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>